---
name: kuaidi100-tracking
description: 查询快递100物流轨迹信息。当用户想要查询快递单号物流状态、快递轨迹信息时使用此skill。
installation: |
  python -m pip install wuying-agentbay-sdk
---

# 快递100快递单号查询

## 安装步骤

在使用此技能之前，请确保已安装必要的依赖包：

```bash
python -m pip install wuying-agentbay-sdk
```

## 使用场景

- 用户想查询快递单号的物流轨迹信息
- 用户想了解快递当前所在位置和状态
- 用户需要验证快递单号的真实性
- 用户想获取快递的完整配送历史

## 使用方法

```bash
python browser-use.py "<任务执行步骤>"
```

## 快速示例

### 示例1: 查询快递单号(需要手机尾号验证)
```bash
python browser-use.py " \
1. 前往快递100官方网站 https://www.kuaidi100.com/ \
2. 等待页面加载完成,确认查询输入框显示正常 \
3. 定位'快递单号'输入框(通常有'请输入快递单号'提示文字) \
4. 输入快递单号'YT1234567890123' \
5. 检查页面是否需要输入手机尾号后4位验证(若提示需要验证或有手机尾号输入框) \
6. 若需要验证,定位'手机尾号'输入框,输入'1234' \
7. 点击查询按钮(通常标注'查询''查快递',避免点击广告按钮) \
8. 等待页面加载完成(最多等待10秒) \
9. 提取快递查询结果,包括:快递公司名称、快递单号、当前物流状态、最新更新时间 \
10. 提取完整物流轨迹列表(按时间倒序),每条记录包含:时间、地点、物流描述 \
11. 以markdown格式返回查询结果
"
```

### 示例2: 查询快递单号(简化版)
```bash
python browser-use.py " \
1. 访问快递100官网 https://www.kuaidi100.com/ \
2. 在搜索框中输入快递单号'SF1234567890' \
3. 如果需要手机尾号验证,输入'5678' \
4. 点击查询按钮 \
5. 获取完整的快递轨迹信息 \
6. 以markdown格式整理返回
"
```

### 示例3: 查询多个快递单号(需要分别执行)
```bash
# 第一个单号
python browser-use.py " \
1. 打开快递100网站 https://www.kuaidi100.com/ \
2. 输入快递单号'JD0987654321098' \
3. 输入手机尾号'8888' \
4. 查询并返回结果
"

# 第二个单号(需要重新执行)
python browser-use.py " \
1. 打开快递100网站 https://www.kuaidi100.com/ \
2. 输入快递单号'YTO0011223344556' \
3. 输入手机尾号'6666' \
4. 查询并返回结果
"
```

## 输出格式

```markdown
## 快递100物流查询结果

### 基本信息
- 快递公司: xxx快递
- 快递单号: xxxxxxxxxx
- 当前状态: [运输中/派件中/已签收/问题件]
- 最新更新: 2024-02-05 14:30:25

### 完整物流轨迹

1. **2024-02-05 14:30:25** | 上海市浦东新区
   - [快件已签收] 您的快件已由本人签收,感谢使用xxx快递

2. **2024-02-05 10:15:00** | 上海市浦东新区
   - [派件中] 快递员正在为您派送,联系电话:138****5678

3. **2024-02-05 08:00:12** | 上海市
   - [到达目的地] 快件已到达上海分拨中心

4. **2024-02-04 20:45:30** | 杭州市
   - [运输中] 快件离开杭州转运中心,发往上海

5. **2024-02-04 15:20:18** | 杭州市
   - [已揽收] 快递员已揽收快件

### 统计信息
- 总计节点: 5个
- 运输时长: 约23小时
- 当前位置: 上海市浦东新区
```

## 异常处理

- **单号格式错误**: 若输入单号后提示"单号格式错误"或"查询不到信息",反馈单号有效性问题,暂停任务
- **手机尾号验证失败**: 若提示"尾号不正确"或"验证失败",反馈尾号准确性问题,暂停任务
- **页面加载超时**: 若页面加载超时(设定超时时间为10秒),自动刷新页面重试1次,仍失败则记录错误并终止任务
- **需要登录**: 若页面提示需要登录才能查看详细信息,记录该情况并返回可见的基本信息
- **遇到验证码**: 若出现图片验证码或滑块验证,提示需要人工协助验证,暂停任务
- **查询频繁限制**: 若提示"查询过于频繁",等待30秒后重试一次

## 注意事项

- 始终注明信息来源为快递100官网
- 不需要创建新的脚本,用skill目录下的browser-use.py
- 如果页面加载较慢,请耐心等待
- 任务执行需要30秒~2分钟,请耐心等待观察,也不要重试
- skill调用后,控制台会打印出asp流化链接(可视化的url),可告知用户查看
- 物流信息会实时更新,以抓取时刻的数据为准
- 快递单号通常为10-20位数字或字母组合
- 手机尾号必须是4位数字
- 部分快递公司可能需要额外的身份验证
- 快递100可能有反爬虫机制,遇到验证码请人工协助
- 建议查询前确认快递单号和手机尾号的准确性
- 若快递公司识别错误,可在快递100网站手动选择正确的快递公司
